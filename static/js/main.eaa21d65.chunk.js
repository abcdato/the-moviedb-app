(this["webpackJsonpmovies-app"]=this["webpackJsonpmovies-app"]||[]).push([[0],{57:function(e,t,r){},59:function(e,t,r){},72:function(e,t,r){},73:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),s=r(23),c=r.n(s),i=r(20),o=r.n(i),l=r(24),u=r(9),d=r(10),v=r(18),h=r(17),p=r(78),j=r(76),m=r(77),b=r(21),f=(r(57),r(2)),O=function(e){var t=e.title,r=e.releaseDate,a=e.overview,n=e.posterPath;var s=r?Object(m.a)(new Date(r),"MMMM Q, y"):null,c="https://image.tmdb.org/t/p/w200/".concat(n),i=Object(f.jsx)("img",{className:"card__poster",src:c,alt:"movies poster"}),o=a?function(e,t,r){if(e.length<=t)return e;var a=e.substr(0,t-1);return"".concat(r?a.substr(0,a.lastIndexOf(" ")):a," ...")}(a,160,!0):null,l=Object(f.jsx)(b.a,{description:"Image Not Found"});return Object(f.jsxs)("li",{className:"movie-card card",children:[Object(f.jsx)("div",{className:"card__poster-wrapper",children:n?i:l}),Object(f.jsxs)("div",{className:"card__properties",children:[Object(f.jsx)("h3",{className:"card__title",children:t}),Object(f.jsx)("div",{className:"card__release-date",children:s}),Object(f.jsxs)("div",{className:"card__genres",children:[Object(f.jsx)("div",{className:"card__genre",children:"action"}),Object(f.jsx)("div",{className:"card__genre",children:"drama"})]}),Object(f.jsx)("p",{className:"card__overview",children:o})]})]})};O.defaultProps={posterPath:""};var x=O,w=function(){function e(){Object(u.a)(this,e),this.key="1be9a44c716204acb901eac3dee95b08",this.url="https://api.themoviedb.org/3/search/movie",this.tranformData=function(e){return{id:e.id,title:e.title,releaseDate:e.release_date,overview:e.overview,posterPath:e.poster_path}}}return Object(d.a)(e,[{key:"getMovies",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var r,a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(this.url,"?api_key=").concat(this.key,"&query=").concat(t));case 3:return r=e.sent,e.next=6,r.json();case 6:return a=e.sent,n=a.results.map(this.tranformData),e.abrupt("return",n);case 11:throw e.prev=11,e.t0=e.catch(0),new Error(e.t0);case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),_=w,g=(r(59),function(e){Object(v.a)(r,e);var t=Object(h.a)(r);function r(){var e;return Object(u.a)(this,r),(e=t.call(this)).state={movies:[],loading:!0,error:!1},e}return Object(d.a)(r,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"onError",value:function(){this.setState({loading:!1,error:!0})}},{key:"loadData",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=new _,e.next=4,t.getMovies("return");case 4:r=e.sent,this.setState({movies:r,loading:!1,error:!1}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),this.onError();case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"showData",value:function(e){return e&&e.map((function(e){var t=e.id,r=e.title,a=e.releaseDate,n=e.overview,s=e.posterPath;return Object(f.jsx)(x,{title:r,releaseDate:a,overview:n,posterPath:s},t)}))}},{key:"render",value:function(){var e=this.state,t=e.movies,r=e.loading,a=e.error,n=!(r||a),s=r?Object(f.jsx)(p.a,{size:"large"}):null,c=n?this.showData(t):null,i=a?Object(f.jsx)(j.a,{message:"Error",description:"Couldn't load the data.",type:"error",showIcon:!0}):null;return Object(f.jsxs)("ul",{className:"movie-list",children:[s,i,c]})}}]),r}(a.Component)),y=g;r(72);var k=function(){return Object(f.jsx)("div",{className:"App",children:Object(f.jsx)(y,{})})},N=n.a.createElement(k);c.a.render(N,document.getElementById("root"))}},[[73,1,2]]]);
//# sourceMappingURL=main.eaa21d65.chunk.js.map